#:import Window kivy.core.window.Window

<WidgetFlagWithCheckBox>:
    image_source: self.image_source
    check_box_language: check_box_language
    language_name: self.language_name

    Image:
        canvas.after:
            Color:
                rgba: 0.2, 0.2, 0.2, 0.7
            Rectangle:
                pos: self.pos
                size: self.size
        pos: root.pos
        allow_stretch: True
        keep_ratio: False
        size: root.size
        source: root.image_source
    CheckBox:
        id: check_box_language
        name: root.language_name
        width: dp(30)
        height: dp(30)
        pos: root.pos[0], (root.pos[1]+root.height)-self.height
        on_active: root.set_language(self)

<WidgetSelectorWithCheckBox>:
    image_source: self.image_source
    check_box_selector: check_box_selector
    selector_name: self.selector_name

    Image:
        canvas.after:
            Color:
                rgba: 0.2, 0.2, 0.2, 0.7
            Rectangle:
                pos: self.pos
                size: self.size
        pos: root.pos
        allow_stretch: True
        keep_ratio: False
        size: root.size
        source: root.image_source
    CheckBox:
        id: check_box_selector
        name: root.selector_name
        width: dp(30)
        height: dp(30)
        pos: root.pos[0], (root.pos[1]+root.height)-self.height
        on_active: root.set_selector(self)



<GridLayoutWidgetSettings@GridLayout>
    cols: 4
    spacing: dp(10)
    size_hint_max_x: dp(300)

<CoverImage@CoverBehavior+Image>:
    reference_size: self.texture_size

<SettingsInterface@RelativeLayout>:
    CoverImage:
        source: "images/settings_background.jpg"
    SettingsLayout:

<LabelSetting@Label>:
    font_size: dp(20)
    size_hint: None, None
    size: self.texture_size
    halign: "left"
    pos_hint: {"center_y": 0.5}

<DummyWidget@Widget>


<SettingBoxLatout@BoxLayout>:
    size_hint: None, None
    height: dp(100)
    width: dp(550)
    spacing: dp(8)
    padding: dp(8)
    pos_hint: {"center_x": 0.5, "center_y": 0.5}


<LayoutApplyChange>:
    size_hint: None, None
    size: Window.width, self.height_depend_change
    canvas.before:
        Color:
            rgba: root.red, root.green, root.blue, root.alpha
        Rectangle:
            pos: self.pos
            size: self.size
    Widget: #Dummy widget to set a space between the icon and the right window border
        size_hint: None, None
        size: dp(5), 0
    Image:
        size_hint: None, None
        pos_hint: {"center_y": 0.5}
        size: root.icon_size, root.icon_size
        source: "images/close_warning.png"
    Label:
        text: root.text_reboot

<SettingsLayout>:
    orientation: "vertical"
    spacing: dp(15)
    SettingBoxLatout:
        LabelSetting:
            text: root.text_label_language + " : "
        GridLayoutWidgetSettings:
            WidgetFlagWithCheckBox:
                image_source: "images/flags/french_flag.jpg"
                language_name: "fr"
            WidgetFlagWithCheckBox:
                image_source: "images/flags/german_flag.jpg"
                language_name: "de"
            WidgetFlagWithCheckBox:
                image_source: "images/flags/portugal_flag.jpg"
                language_name: "pt"
            WidgetFlagWithCheckBox:
                image_source: "images/flags/russia_flag.png"
                language_name: "ru"
            WidgetFlagWithCheckBox:
                image_source: "images/flags/spain_flag.jpg"
                language_name: "es"
            WidgetFlagWithCheckBox:
                image_source: "images/flags/english_flag.png"
                language_name: "en"
            WidgetFlagWithCheckBox:
                image_source: "images/flags/ukraine_flag.png"
                language_name: "uk"
    SettingBoxLatout:
        LabelSetting:
            text: root.text_label_cursor + " : "
        GridLayoutWidgetSettings:
            size_hint: None, 1
            width: dp(210)
            WidgetSelectorWithCheckBox:
                image_source: "images/colorselector.png"
                selector_name: "images/colorselector.png"
            WidgetSelectorWithCheckBox:
                image_source: "images/colorselector_2.png"
                selector_name: "images/colorselector_2.png"


    LayoutApplyChange:


